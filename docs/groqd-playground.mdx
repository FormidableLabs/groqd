---
sidebar_position: 7
---

import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';

# Groqd Playground (Plugin)

Groqd Playground is a plugin for Sanity Studio for testing groqd queries, featuring:

- a TypeScript editor experience with syntax/type highlighting;
- parsed response and error messages for when responses fail to pass Zod validation;
- dataset/api version switchers.

![Sample of groqd playground in use](./img/groqd-playground-sample.png)

## Installation

In your Sanity Studio project, install `groqd-playground` using your favorite package registry tool.

<Tabs>
<TabItem value="npm" label="NPM">

```sh
npm install groqd-playground
```

</TabItem>
<TabItem value="yarn" label="Yarn">

```sh
yarn add groqd-playground
```

</TabItem>
<TabItem value="pnpm" label="pnpm">

```sh
pnpm add groqd-playground
```

</TabItem>
</Tabs>

:::note
The playground tool has the following peer dependenciesc which are typically already a part of most Sanity Studio implementations:

```text
sanity @sanity/ui @sanity/icons styled-components
```
:::

## Configuration

Once installed, just add the groqd playground tool to your list of Sanity plugins:

```ts
import { defineConfig } from "sanity";
import { groqdPlaygroundTool } from "groqd-playground";

export default defineConfig({
	/* ... */
  plugins: [groqdPlaygroundTool()],
});
```

The `groqdPlaygroundTool` method takes a configuration option as its sole, optional argument with the following options.

| key                 | description                              | default              |
|---------------------|------------------------------------------|----------------------|
| `name`              | Name of the plugin                       | `"groqd-playground"` |
| `title`             | Title to show in navbar of Studio        | `"GROQD"`            |
| `icon`              | Icon to show in navbar of Studio         | `CodeIcon`           |
| `defaultDataset`    | Default dataset to use in playground     | `"production"`       |
| `defaultApiVersion` | Default API version to use in playground | `"v2021-10-21"`      |

## How to use

Groqd Playground behaves very similar to Sanity's Vision Tool, but by writing a groqd query instead of a standard GROQ query.

The standard workflow is:

1. Pass a groqd query to the playground's `runQuery` function. For example:
  ```ts
  import { runQuery } from "playground";
  import { q } from "groqd";

  runQuery(
	  q("*")
	  .filterByType("pokemon")
	  .slice(0, 10)
	  .grab$({
		  name: q.string()
	  })
  );
  ```
2. Press the `Fetch` button to run the generated query against your Studio's dataset.
3. If the response comes back and is parsed successfully, you can inspect the parsed response.
4. If the response fails validation, the playground will show the validation error(s) and the raw groq response for you to inspect.


### Editor Keyboard shortcuts

When the editor is focused, the following keyboard shortcuts are available:

- `Cmd + Enter` to trigger a fetch call.
- `Cmd + S` to copy the share URL to your clipboard.
