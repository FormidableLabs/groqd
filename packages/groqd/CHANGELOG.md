# groqd

## 1.0.5

### Patch Changes

- Fixed: `.slice(number)` returns a nullable result ([#331](https://github.com/FormidableLabs/groqd/pull/331))
  Added: `.notNull()` utility
  Updated: `.nullable()` utility to not be chainable
  Updated: require a `redundant: true` parameter for `nullable` and `notNull`
  Added: `InvalidQueryError` is thrown for all invalid queries detected

  Fixes #268

## 1.0.4

### Patch Changes

- Fix: ensure `filter` can be chained after a `deref` ([#329](https://github.com/FormidableLabs/groqd/pull/329))
  Fixes #323

## 1.0.3

### Patch Changes

- Chore: improved error messages for `project` to make them more helpful ([#326](https://github.com/FormidableLabs/groqd/pull/326))

## 1.0.2

### Patch Changes

- Fixed: improve support for ellipsis operator (`...`) when using overrides ([#324](https://github.com/FormidableLabs/groqd/pull/324))
  Fixes #317

## 1.0.1

### Patch Changes

- Added: export `createGroqBuilder` as shortcut for `createGroqBuilderWithZod` ([#314](https://github.com/FormidableLabs/groqd/pull/314))
  Docs: updated sample code

## 1.0.0

### Major Changes

- It's official! GroqD 1.0 is here! ([#310](https://github.com/FormidableLabs/groqd/pull/310))

  This brand-new version of GroqD adds **schema-awareness**, which brings massive improvements to the developer experience!

  This includes:

  - **Auto-completion** - write queries quickly and confidently
  - **Runtime validation** - ensure data integrity, catch errors early
  - **Transformation** - map values at runtime, like parsing dates
  - **Fragments** - create reusable query fragments, and compose queries from other fragments

  This release does include breaking API changes. Please see the [migration docs](https://commerce.nearform.com/open-source/groqd/docs/migration) for more information.

# groq-builder

## 0.10.1

### Patch Changes

- # This package is now deprecated. Use `groqd` instead! ([#305](https://github.com/FormidableLabs/groqd/pull/305))

  Great news! This `groq-builder` codebase has been merged into the official `groqd` project, and is now available as `groqd@1`.

  Please discontinue using `groq-builder` and use `groqd` instead.

## 0.10.0

### Minor Changes

- This is the final release before v1.0 ([#306](https://github.com/FormidableLabs/groqd/pull/306))

  ## Minor changes

  - Configuration: renamed main method from `createGroqBuilder` to `createGroqBuilderLite`
  - Configuration: eliminated need for `ExtractDocumentTypes`
  - Fix: `field` projections handle arrays properly
  - Improvement: better typings for Zod methods

## 0.9.2

### Patch Changes

- Added support for types generated by `sanity typegen` ([#293](https://github.com/FormidableLabs/groqd/pull/293))

## 0.9.1

### Patch Changes

- bump Sanity to 3.15.0. bump vitest to 1.3.1 ([#278](https://github.com/FormidableLabs/groqd/pull/278))

## 0.9.0

### Minor Changes

- Releasing as a Release Candidate ([#266](https://github.com/FormidableLabs/groqd/pull/266))

### Patch Changes

- Fixed a type issue with `project`, where it would complain `argument [] is not assignable to 'never'` ([#266](https://github.com/FormidableLabs/groqd/pull/266))

## 0.5.0

### Minor Changes

- Added support for parameters. ([#263](https://github.com/FormidableLabs/groqd/pull/263))

  Added `filterBy` for strongly-typed filtering.

  Added auto-complete help for conditional statements and filters.

  Changed how parameters are passed to `makeSafeQueryRunner`.

## 0.4.0

### Minor Changes

- Added `createGroqBuilderWithZod()` and removed the `.include(zod)` method ([#257](https://github.com/FormidableLabs/groqd/pull/257))

  Removed internal validation methods; use Zod methods instead

  Added `validationRequired` option to require runtime validation

  Removed `$` from `q.conditional$` and `q.select$` methods; these are now just `q.conditional` and `q.select`

  Added optional validation parameter to `q.field(field, parser?)`

  Cleaned up some internal types, added better type documentation

## 0.3.0

### Minor Changes

- Added `conditional` and `select` features ([#256](https://github.com/FormidableLabs/groqd/pull/256))

- Improved the way we handle validation. ([#255](https://github.com/FormidableLabs/groqd/pull/255))
  Enable "tree shaking" to remove validation, if unused.
  Improve type-checking of validation methods, for better error detection.

### Patch Changes

- Added support for Fragments via `q.fragment` ([#250](https://github.com/FormidableLabs/groqd/pull/250))

## 0.2.0

### Minor Changes

- Added backwards compatibility with GroqD v0.x ([#248](https://github.com/FormidableLabs/groqd/pull/248))
- Implemented validation methods like `q.string()`
- Renamed `grab -> project`, `grabOne -> field`
- Fixed build issues and deployment files

## 0.1.3

### Patch Changes

- Improved build output
- Improved nullable type safety
- Added `makeSafeQueryRunner` utility

## 0.1.1

### Patch Changes

- Implemented core methods ([#239](https://github.com/FormidableLabs/groqd/pull/239))
